<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.koitt.tim.dao.review.ReviewDao">
    <select id="selectReviewList" resultType="com.koitt.tim.dto.review.ReviewDto">
        select r."review_num", "id", "title", "regist_review", "hit", "score", "content", "image_small", "buy_check", "group_num", "image", "board_type", "write_check", "admin_answer"
        from REVIEW r,ORDER_LIST o
        where r."Key"=o.KEY and o."pro_num"=#{pro_num}
    </select>

    <insert id="insertReview">
        insert into REVIEW
        values (REVIEW_SEQ.nextval,#{id},'2020000000',#{title},sysdate,'0',#{star},#{content},null,'Y','1',null,#{type},'n',null,#{pro_num})
    </insert>

    <insert id="insertPhotoReview">
        insert into REVIEW
        values (
                REVIEW_SEQ.nextval,
                #{id},
                '2020060306',
                #{title},
                sysdate,
                '0',
                #{score},
                #{content,jdbcType=VARCHAR},
                #{image_small,jdbcType=VARCHAR},
                'y',
                '2',
                null,
                #{board_type},
                'n',
                null,
                #{pro_num,jdbcType=VARCHAR}
               )

    </insert>

</mapper>