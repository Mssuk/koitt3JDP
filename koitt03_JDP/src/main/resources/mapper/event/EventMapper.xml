<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.koitt.tim.dao.event.EventDao">
	<select id="selectEvent" resultType="EventDto">
<!-- 		select*from event where    <![CDATA[ -->
<!--                to_char(event_end,'yyyy-MM-dd') >= to_char(sysdate,'yyyy-MM-dd') ORDER BY event_start desc -->
<!--             ]]> -->
        
        select  * FROM   (select ROWNUM rnum,m.* FROM (select * from event where   <![CDATA[ to_char(event_end,'yyyy-MM-dd') >= to_char(sysdate,'yyyy-MM-dd') ]]>
         ORDER BY event_start desc ) m )WHERE   rnum  <![CDATA[ >= ]]> #{param1} AND rnum  <![CDATA[<= ]]>#{param2}
				
            
            
            
	</select>
	<select id="selectFinEvent" resultType="EventDto">
		select*from event where    <![CDATA[
               to_char(event_end,'yyyy-MM-dd') < to_char(sysdate,'yyyy-MM-dd') ORDER BY event_start desc
            ]]>
	</select>
	<select id="getlistCount" resultType="Integer">
		
		
		
	</select>
</mapper>        